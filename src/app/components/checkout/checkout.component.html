<div class="row">
    <div class="col-md-3">
        <!-- category component
            <app-book-category></app-book-category>  -->

    </div>
    <div class="col-md-9">
        <div class="row">
            <div class="col-md-8">
                <form (ngSubmit)="onSubmit()">
                    <fieldset class="scheduler-border">
                        <legend class="scheduler-border">
                            <h3>Info Pembeli</h3>
                        </legend>
                        <div ngModelGroup="pembelian">
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>Nama</label>
                                </div>
                                <div class="col-md-9">
                                    <div>
                                        <input type="text" class="form-control" id="namaPembeli"
                                            [(ngModel)]="pembelian.namaPembeli" name="namaPembeli" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>Email</label>
                                </div>
                                <div class="col-md-9">
                                    <div>
                                        <input type="text" class="form-control" id="emailPembeli"
                                            [(ngModel)]="pembelian.emailPembeli" name="emailPembeli" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>No HP</label>
                                </div>
                                <div class="col-md-9">
                                    <div>
                                        <input type="text" class="form-control" id="noHpPembeli"
                                            [(ngModel)]="pembelian.noHpPembeli" name="noHpPembeli" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>Alamat</label>
                                </div>
                                <div class="col-md-9">
                                    <div>
                                        <input type="text" class="form-control" id="alamatPembeli"
                                            [(ngModel)]="pembelian.alamatPembeli" name="alamatPembeli" />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-3">
                                    <label>Total Pembelian</label>
                                </div>
                                <div class="col-md-9">
                                    <div>
                                        <input type="text" class="form-control" value="{{totalPrice | currency: 'Rp. '}}" 
                                         name="totalHargaBeli" readonly/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <br />
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Simpan</button>
                    </div>
                </form>
            </div>
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12 order-md-2 mb-4">
                        <h4 class="d-flex justify-content-between align-items-center mb-3">
                            <span class="text-muted">Info Belanja</span>
                            <span class="badge badge-secondary badge-pill">{{cartItems.length}}</span>
                        </h4>
                        <ul class="list-group mb-3">
                            <li *ngFor="let cartItem of cartItems"
                                class="list-group-item d-flex justify-content-between lh-condensed">
                                <div>
                                    <h6 class="my-0">{{cartItem.judul}}</h6>
                                    <small class="text-muted">Quantity (x{{cartItem.jumlahStok}})</small>
                                </div>
                                <span class="text-muted">{{cartItem.jumlahStok * cartItem.harga | currency: 'Rp. '}}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Total </span>
                                <strong>{{totalPrice | currency: 'Rp. '}}</strong>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div *ngIf="klikSimpan">
                    <div *ngIf="pembelians.length > 0; then thenSuccessOk else elseSuccessNOk"></div>
                        <ng-template #thenSuccessOk class="alert alert-warning" role="alert">
                            <div  class="alert alert-warning" role="alert">    
                                {{message}}
                            </div>
                        </ng-template>
                        <ng-template #elseSuccessNOk>
                            <div  class="alert alert-warning" role="alert">
                                {{message}}
                            </div>
                        </ng-template>
            </div>
        </div>

    </div>
</div>
